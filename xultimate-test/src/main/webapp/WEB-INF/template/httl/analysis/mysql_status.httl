
<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>MYSQL Status QPS统计图表</title>
		<script type="text/javascript" src="/resources/js/jquery-2.0.3.js"></script>
		<script type="text/javascript" src="/resources/js/jquery.form.js"></script> 
		<script type="text/javascript" src="/resources/highcharts/highcharts.js"></script>
		<script type="text/javascript" src="/resources/highcharts/exporting.js"></script>
		<script type="text/javascript">
	$(function () {
        $('#myForm').submit(function() { 
            // inside event callbacks 'this' is the DOM element so we first 
            // wrap it in a jQuery object and then invoke ajaxSubmit 
            $(this).ajaxSubmit({
            	dataType: 'json',
            	success : function(responseJson) {
            		$('#container').highcharts({
                        title: {
                            text: responseJson.title,
                            x: -20 //center
                        },
                        subtitle: {
                            text: responseJson.subtitle,
                            x: -20
                        },
                        xAxis: {
                            categories: responseJson.categories
                        },
                        yAxis: {
                            title: {
                                text: responseJson['yAxis.title']
                            },
                            plotLines: [{
                                value: 0,
                                width: 1,
                                color: '#808080'
                            }]
                        },
                        tooltip: {
                            valueSuffix: responseJson['tooltip.valueSuffix']
                        },
                        legend: {
                            layout: 'vertical',
                            align: 'right',
                            verticalAlign: 'middle',
                            borderWidth: 0
                        },
                        series: responseJson.series
                    });
            	}
            }); 
     
            // !!! Important !!! 
            // always return false to prevent standard browser submit and page navigation 
            return false; 
        }); 
    });
		</script>
	</head>
	<body>
		<form id="myForm" action="comment.php" method="post"> 
		    <input type="file" name="myfile"><br>
	    	<input type="submit" value="Submit" /> 
		</form>
		<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
	</body>
</html>
